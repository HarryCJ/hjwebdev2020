{"version":3,"sources":["redux/reducers/siteReducer.js","redux/reducers/authReducer.js","redux/reducers/addressReducer.js","redux/reducers/offlineReducer.js","redux/reducers/checkReducer.js","redux/reducers/userReducer.js","redux/reducers/reportReducer.js","redux/reducers/settingsReducer.js","redux/reducers/index.js","redux/actions/types.js","redux/store.js","components/DelayLink.js","redux/actions/siteActions.js","components/ProjectTile.js","components/Page.js","pages/ProjectsPage.js","pages/AboutPage.js","pages/ServicesPage.js","pages/ContactPage.js","components/BackPageButton.js","components/pswpElement.js","projects/ProjectPageTemplate.js","projects/SABProjectPage.js","projects/SMProjectPage.js","projects/ABProjectPage.js","App.js","serviceWorker.js","index.js"],"names":["createBrowserHistory","initialState","history","routes","home","projects","projectsSAB","projectsSamAndMax","projectsAB","about","services","contact","page_opacity","page_left","pageContentSelector","title","imgURL","imgAlt","authKey","window","localStorage","getItem","loginError","currentID","parseInt","addressMessages","addresses","getMessageID","id","setItem","setOfflineQueue","offlineQueue","localForage","JSON","stringify","console","log","navigator","serviceWorker","ready","then","swRegistration","sync","register","onlineCount","offlineFileCount","savedFilesToDelete","stringifyCheck","validatedData","filesToDelete","Object","keys","forEach","key","roomItem","comments","commentItem","image","length","newImages","url","push","item","checkMessages","checks","deleteAutoSave","checkID","result","forageComments","a","imageItem","saveItem","parse","epFiles","concat","rooms","roomFiles","removeItem","getFilesToDelete","userMessages","userList","createUserErrors","showCreateUserModal","reportMessages","reports","settingsMessages","hiddenElement","settings","midterm_declaration","disclaimer","room_names","default_rooms","isLoading","combineReducers","site","state","action","type","payload","auth","address","clearResults","params","page","assign","slice","results","i","message","splice","filter","id_array","removeID","offline","Array","from","status","check","user","report","middleware","thunk","store","createStore","rootReducer","applyMiddleware","DelayLink","props","handleClick","e","replace","to","delay","onDelayStart","onDelayEnd","defaultPrevented","preventDefault","timeout","setTimeout","this","clearTimeout","onClick","React","Component","defaultProps","contextTypes","Link","setPageOpacity","value","offsetX","dispatch","setPageContentSelector","ProjectTile","projectURL","className","defaultOpaque","heading","src","alt","connect","Page","style","inner","ProjectsPage","join","projectPageSelector","AboutPage","Col","sm","ServicesPage","ContactPage","handleChange","event","setState","target","name","handleSubmit","nameError","emailError","contactName","contactEmail","contactMessage","messageError","test","Email","send","SecureToken","To","From","Subject","Body","contactSuccess","contactError","Form","Control","placeholder","onChange","as","Button","variant","disabled","BackPageButton","pswpElement","tabindex","role","aria-hidden","class","ProjectPageTemplate","initialiseGallery","thisComp","pswpEle","document","querySelector","gallery","PhotoSwipe","PhotoSwipeUI_Default","photoswipeItems","maxSpreadZoom","focus","escKey","modal","pinchToClose","closeOnScroll","closeOnVerticalDrag","index","fullscreenEl","zoomEl","getDoubleTapZoom","isMouseClick","initialZoomLevel","addCaptionHTMLFn","captionEl","isFake","hasTitle","hasDesc","description","children","innerHTML","innerText","listen","_offset","r","getBoundingClientRect","x","left","y","top","init","previousProjectRoute","previousProject","nextProjectRoute","nextProject","route","location","hash","routesKeys","newState","some","startsWith","requestAnimationFrame","scrollTo","Row","OverlayTrigger","placement","overlay","Tooltip","clientHomepage","href","projectLogoURL","projectTitle","projectWebsite","projectSubtitle","projectFeatures","map","projectMadeWith","logo","height","SABProjectPage","w","h","SMProjectPage","ABProjectPage","App","AnimatePageContent","pageContent","anime","remove","querySelectorAll","ele","removeProperty","targets","opacity","duration","easing","stagger","setActiveLink","isInitial","links","selectors","previousActive","classList","link","add","textWrapper","text","dangerouslySetInnerHTML","__html","currentPage","titleLetters","subTitle","subTitleLetters","projectPages","paths","find","path","scale","start","paddingTop","nextProps","isMobile","innerWidth","isFluid","appTitle","appSubtitle","navLinks","md","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","rootElement","getElementById","ReactDOM","render","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.0101c5e1.chunk.js","sourcesContent":["import { SET_PAGE_OPACITY, SET_PAGE_CONTENT_SELECTOR } from '../actions/types'\r\n\r\nimport { createBrowserHistory } from 'history';\r\nconst history = createBrowserHistory()\r\n\r\nconst initialState = {\r\n\thistory: createBrowserHistory(),\r\n\troutes: {\r\n\t  home: \"#\",\r\n\t  projects: \"#projects\",\r\n\t  projectsSAB: \"#projects-sab\",\r\n\t  projectsSamAndMax: \"#projects-samandmax\",\r\n\t  projectsAB: \"#projects-ab\",\r\n\t  about: \"#about\",\r\n\t  services: \"#services\",\r\n\t  contact: \"#contact\",\r\n\t},\r\n\tpage_opacity: 1,\r\n\tpage_left: 0,\r\n\tpageContentSelector: '', \r\n\tprojects: {\r\n\t\tprojectsSAB: {\r\n\t\t\ttitle: \"SAB Property Management App\",\r\n\t\t\timgURL: \"/sabapp.png\",\r\n\t\t\timgAlt: \"SAB App\",\r\n\t\t},\r\n\t\tprojectsSamAndMax: {\r\n\t\t\ttitle: \"Sam and Max Website\",\r\n\t\t\timgURL: \"/samandmax.png\",\r\n\t\t\timgAlt: \"Sam and Max\",\r\n\t\t},\r\n\t\tprojectsAB: {\r\n\t\t\ttitle: \"Advanced Boosters Online Store\",\r\n\t\t\timgURL: \"/abapp.png\",\r\n\t\t\timgAlt: \"Advanced Boosters\",\r\n\t\t},     \r\n\t}\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n\t// console.log(\"action.payload\", action.payload)\r\n\tswitch(action.type) {\r\n\t\tcase SET_PAGE_OPACITY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpage_opacity: action.page_opacity,\r\n\t\t\t\tpage_left:action.page_left,\r\n\t\t\t}\r\n\t\tcase SET_PAGE_CONTENT_SELECTOR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpageContentSelector: action.payload,\r\n\t\t\t}\r\n\t\t// case SET_CURRENT_ID:\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tcurrentID: action.payload,\r\n\t\t// \t}\r\n\t\t// \t/* falls through */\r\n\t\t// case LOGIN:\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tloginError: false,\r\n\t\t// \t\tauthKey: action.payload,\r\n\t\t// \t}\r\n\t\t// \t falls through \r\n\t\t// case LOGOUT:\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tloginError: false,\r\n\t\t// \t\tauthKey: null,\r\n\t\t// \t}\r\n\t\t// \t/* falls through */\r\n\t\t// case LOGIN_ERROR:\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tloginError: action.payload,\r\n\t\t// \t}\r\n\t\t// \t/* falls through */\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\r\n\t}\r\n}","import { LOGIN, LOGOUT, LOGIN_ERROR, SET_CURRENT_ID } from '../actions/types'\r\n\r\nconst initialState = {\r\n\tauthKey: window.localStorage.getItem('authKey'),\r\n\tloginError: false,\r\n\tcurrentID: parseInt(window.localStorage.getItem('currentID')),\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n\tconsole.log(\"action.payload\", action.payload)\r\n\tswitch(action.type) {\r\n\t\tcase SET_CURRENT_ID:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentID: action.payload,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase LOGIN:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginError: false,\r\n\t\t\t\tauthKey: action.payload,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase LOGOUT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginError: false,\r\n\t\t\t\tauthKey: null,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase LOGIN_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginError: action.payload,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\r\n\t}\r\n}","import { FETCH_ADDRESSES, CREATE_ADDRESS, REMOVE_MESSAGE, EDIT_ADDRESS, DELETE_ADDRESS, MASS_DELETE_ADDRESS, ADD_QUEUE_MESSAGE, ADD_ADDRESS_SERVER_ERROR_MESSAGE } from '../actions/types'\r\n\r\nconst initialState = {\r\n    addressMessages: [],\r\n\taddresses: {},\r\n}\r\n\r\nfunction getMessageID(){\r\n\tlet id = parseInt(window.localStorage.getItem('message-id') || \"0\")\r\n\twindow.localStorage.setItem('message-id', id+1)\r\n\treturn id\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n\tconsole.log(\"action\", action)\r\n\tlet addresses = null\r\n\tlet addressMessages = null\r\n\tswitch(action.type) {\r\n\t\tcase FETCH_ADDRESSES:\r\n\t\t\t// let newAddresses = state.addresses\r\n\t\t\t// newAddresses[action.page] = action.payload\r\n\t\t\tif (action.clearResults === true){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\taddresses: {\r\n\t\t\t\t        [action.params.page]: action.payload\r\n\t\t\t\t      },\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\taddresses: Object.assign({}, state['addresses'], {\r\n\t\t\t\t        [action.params.page]: action.payload\r\n\t\t\t\t      }),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase CREATE_ADDRESS:\r\n\t\t\t// addresses = Object.assign({}, state['addresses'])\r\n\t\t\t// Object.keys(addresses).forEach((page) => {\r\n\t\t\t// \taddresses[page].results.unshift(action.payload.item)\r\n\t\t\t// })\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t// addresses: addresses,\r\n\t\t\t\taddressMessages: state['addressMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase EDIT_ADDRESS:\r\n\t\t\t// Update existing addresses\r\n\t\t\taddresses = Object.assign({}, state['addresses'])\r\n\t\t\tObject.keys(addresses).forEach((page) => {\r\n\t\t\t\taddresses[page].results.forEach((item, i) => {\r\n\t\t\t\t\tif (item.id === action.payload.item.id)\taddresses[page].results[i] = action.payload.item\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t// Update messages\r\n\t\t\taddressMessages = state['addressMessages']\r\n\t\t\taddressMessages.forEach((message) => {\r\n\t\t\t\tif (message.item && message.item.id && message.item.id === action.payload.item.id){\r\n\t\t\t\t\tmessage.item = action.payload.item\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddresses: addresses,\r\n\t\t\t\taddressMessages: addressMessages.concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase DELETE_ADDRESS:\r\n\t\t\taddresses = Object.assign({}, state['addresses'])\r\n\t\t\tObject.keys(addresses).forEach((page) => {\r\n\t\t\t\taddresses[page].results.forEach((item, i) => {\r\n\t\t\t\t\tif (item.id === action.payload.item.id)\taddresses[page].results.splice(i, 1)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\taddressMessages = state['addressMessages'].filter(message =>!message.item || message.item.id !== action.payload.item.id)\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddresses: addresses,\r\n\t\t\t\taddressMessages: addressMessages.concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase MASS_DELETE_ADDRESS:\r\n\t\t\taddresses = Object.assign({}, state['addresses'])\r\n\t\t\taddressMessages = state['addressMessages']\r\n\t\t\taction.payload.id_array.forEach(removeID => {\r\n\t\t\t\taddressMessages = addressMessages.filter(message => !message.item || message.item.id !== removeID)\r\n\t\t\t\tObject.keys(addresses).forEach((page) => {\r\n\t\t\t\t\taddresses[page].results.forEach((item, i) => {\r\n\t\t\t\t\t\tif (removeID === item.id) addresses[page].results.splice(i, 1)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddresses: addresses,\r\n\t\t\t\taddressMessages: addressMessages.concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase REMOVE_MESSAGE:\r\n\t\t\taddressMessages = state['addressMessages'].filter(message => message.id !== action.payload)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddressMessages,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase ADD_QUEUE_MESSAGE:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddressMessages: state['addressMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase ADD_ADDRESS_SERVER_ERROR_MESSAGE:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddressMessages: state['addressMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t\t// case FETCH_SITEOPTIONS:\r\n\r\n\t}\r\n}","import { PUSH_OFFLINE_QUEUE, REMOVE_OFFLINE_QUEUE_ITEM, SET_QUEUE_ITEM_PENDING, UNSET_QUEUE_ITEM_PENDING, HANDLE_ONLINE, REFRESH_OFFLINE_QUEUE, PUSH_ADDRESS_TO_OFFLINE_QUEUE, PUSH_CHECK_TO_OFFLINE_QUEUE, SAVE_CHECK } from '../actions/types'\r\nimport localForage from \"localforage\";\r\n\r\nfunction setOfflineQueue(offlineQueue){\r\n\r\n\tlocalForage.setItem('offlineQueue', JSON.stringify(offlineQueue))\r\n\r\n\tconsole.log(\"registering sync\")\r\n\tnavigator.serviceWorker.ready.then(function(swRegistration) {\r\n\t\tconsole.log(\"registering sync ok\")\r\n\t\tif (swRegistration.sync){\r\n\t \t\treturn swRegistration.sync.register('onlineSync');\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst initialState = {\r\n\tofflineQueue: [],\r\n\tonlineCount: 0,\r\n\tofflineFileCount: 0,\r\n\tsavedFilesToDelete: [],\r\n}\r\n\r\nfunction stringifyCheck(validatedData, offlineFileCount){\r\n\r\n\t// delete payload.validatedData.history\r\n\tlet filesToDelete = []\r\n\r\n\tObject.keys(validatedData).forEach(key => {\r\n\t\tif (validatedData[key]){\r\n\t\t\tif (key === \"rooms\"){\r\n\t\t\t\tvalidatedData[key].forEach(roomItem => {\r\n\t\t\t\t\tdelete roomItem.history\r\n\t\t\t\t\troomItem.comments.forEach(commentItem => {\r\n\t\t\t\t\t\tdelete commentItem.history\r\n\t\t\t\t\t\tif (commentItem.image && commentItem.image.length > 0){\r\n\t\t\t\t\t\t\tlet newImages = []\r\n\t\t\t\t\t\t\tcommentItem.image.forEach(image => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"room image\", image)\r\n\t\t\t\t\t\t\t\tif (image.url && typeof image.url === 'object'){\r\n\t\t\t\t\t\t\t\t\tlocalForage.setItem(`file ${offlineFileCount+1}`, image.url)\r\n\t\t\t\t\t\t\t\t\timage.url = offlineFileCount+1\r\n\t\t\t\t\t\t\t\t\tfilesToDelete.push(offlineFileCount+1)\r\n\t\t\t\t\t\t\t\t\tofflineFileCount++\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnewImages.push(image)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tcommentItem.image = newImages\r\n\t\t\t\t\t\t\t// localForage.setItem(`file ${offlineFileCount+1}`, commentItem.image)\r\n\t\t\t\t\t\t\t// commentItem.image = offlineFileCount+1\r\n\t\t\t\t\t\t\t// offlineFileCount++\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else if (key === 'comments'){\r\n\t\t\t\tvalidatedData[key].forEach(commentItem => {\r\n\t\t\t\t\tdelete commentItem.history\r\n\t\t\t\t\tif (commentItem.image && commentItem.image.length > 0 && typeof commentItem.image[0] === 'object'){\r\n\t\t\t\t\t\tlet newImages = []\r\n\t\t\t\t\t\tcommentItem.image.forEach(image => {\r\n\t\t\t\t\t\t\tconsole.log(\"comment image\", image)\r\n\t\t\t\t\t\t\tif (image.url && typeof image.url === 'object'){\r\n\t\t\t\t\t\t\t\tconsole.log(\"saving image\", image)\r\n\t\t\t\t\t\t\t\tlocalForage.setItem(`file ${offlineFileCount+1}`, image.url)\r\n\t\t\t\t\t\t\t\timage.url = offlineFileCount+1\r\n\t\t\t\t\t\t\t\tfilesToDelete.push(offlineFileCount+1)\r\n\t\t\t\t\t\t\t\tofflineFileCount++\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tnewImages.push(image)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tcommentItem.image = newImages\r\n\t\t\t\t\t\t// localForage.setItem(`file ${offlineFileCount+1}`, commentItem.image)\r\n\t\t\t\t\t\t// commentItem.image = offlineFileCount+1\r\n\t\t\t\t\t\t// offlineFileCount++\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else if (key === 'signature_image') {\r\n\t\t\t\tif (validatedData[key] && typeof validatedData[key] === 'object'){\r\n\t\t\t\t\tlocalForage.setItem(`file ${offlineFileCount+1}`, validatedData[key])\r\n\t\t\t\t\tvalidatedData[key] = offlineFileCount+1\r\n\t\t\t\t\tofflineFileCount++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tconsole.log(\"new offline validatedData\", validatedData)\r\n\r\n\tlocalForage.setItem('offlineFileCount', offlineFileCount)\r\n\treturn {item: validatedData, offlineFileCount: offlineFileCount, filesToDelete: filesToDelete}\r\n}\r\n\r\n// function stringifyAddress(item, offlineFileCount){\r\n// \tlocalForage.setItem(`file ${offlineFileCount+1}`, item.raw.image)\r\n// \titem.raw.image = offlineFileCount+1\r\n// \tofflineFileCount+=1\r\n// \tlocalForage.setItem('offlineFileCount', offlineFileCount)\r\n// \treturn {item: item, offlineFileCount: offlineFileCount}\r\n// }\r\n\r\nexport default function(state = initialState, action) {\r\n\tconsole.log(\"action.payload\", action.payload)\r\n\tlet offlineQueue = []\r\n\tlet offline = null\r\n\tswitch(action.type) {\r\n\t\tcase SAVE_CHECK:\r\n\t\t\tdelete action.payload.history\r\n\t\t\tif (action.filesToDelete && action.filesToDelete.length > 0){\r\n            \tfor (const imageItem of action.filesToDelete) {\r\n      \t\t\t\tif (typeof imageItem === 'number') localForage.removeItem(`file ${imageItem}`)\r\n            \t}\r\n\t\t\t}\r\n\t\t\toffline = stringifyCheck(action.payload, state.offlineFileCount)\r\n\t\t\tlocalForage.setItem(`save_check_${offline.item.id}`, JSON.stringify(offline.item))\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tofflineFileCount: offline.offlineFileCount,\r\n\t\t\t\tsavedFilesToDelete: offline.filesToDelete,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase PUSH_CHECK_TO_OFFLINE_QUEUE:\r\n\t\t\tconsole.log(\"offline, storing in queue\")\r\n\t\t\tofflineQueue = Array.from(state.offlineQueue)\r\n\t\t\tconsole.log(\"offlineQueue\", offlineQueue)\r\n\t\t\taction.payload.id = offlineQueue.length > 0 ? offlineQueue[offlineQueue.length-1].id+1 : 1\r\n\t\t\tdelete action.payload.validatedData.history\r\n\t\t\toffline = stringifyCheck(action.payload.validatedData, state.offlineFileCount)\r\n\t\t\tconsole.log(\"offline\", offline)\r\n\t\t\taction.payload.item = offline.item\r\n\t\t\t// offline.item.type = 'editCheck'\r\n\t\t\tofflineQueue.push(action.payload)\r\n\t\t\tconsole.log(\"offlineQueue\", offlineQueue)\r\n\t\t\tsetOfflineQueue(offlineQueue)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tofflineQueue,\r\n\t\t\t\tofflineFileCount: offline.offlineFileCount\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase PUSH_ADDRESS_TO_OFFLINE_QUEUE:\r\n\t\t\tofflineQueue = Array.from(state.offlineQueue)\r\n\t\t\taction.payload.id = offlineQueue.length > 0 ? offlineQueue[offlineQueue.length-1].id+1 : 1\r\n\t\t\t// offline = stringifyAddress(action.payload, state.offlineFileCount)\r\n\t\t\tofflineQueue.push(action.payload)\r\n\t\t\tsetOfflineQueue(offlineQueue)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tofflineQueue,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase PUSH_OFFLINE_QUEUE:\r\n\t\t\tconsole.log(\"offline, storing in queue\")\r\n\t\t\tofflineQueue = Array.from(state.offlineQueue)\r\n\t\t\taction.payload.id = offlineQueue.length > 0 ? offlineQueue[offlineQueue.length-1].id+1 : 1\r\n\t\t\tofflineQueue.push(action.payload)\r\n\t\t\tconsole.log(\"offlineQueue\", offlineQueue)\r\n\t\t\tsetOfflineQueue(offlineQueue)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tofflineQueue,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase REMOVE_OFFLINE_QUEUE_ITEM:\r\n\t\t\tofflineQueue = Array.from(state.offlineQueue).filter(item => item.id !== action.payload.id)\r\n\t\t\tconsole.log(\"offlineQueue\", offlineQueue)\r\n\t\t\tlocalForage.setItem('offlineQueue', JSON.stringify(offlineQueue))\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tofflineQueue,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase SET_QUEUE_ITEM_PENDING:\r\n\t\t\tofflineQueue = Array.from(state.offlineQueue)\r\n\t\t\tofflineQueue.forEach(item => {\r\n\t\t\t\tif (item.id === action.payload.id) item.status = 'pending'\r\n\t\t\t})\r\n\t\t\tconsole.log(\"offlineQueue\", offlineQueue)\r\n\t\t\tlocalForage.setItem('offlineQueue', JSON.stringify(offlineQueue))\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tofflineQueue,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase UNSET_QUEUE_ITEM_PENDING:\r\n\t\t\tofflineQueue = Array.from(state.offlineQueue)\r\n\t\t\tofflineQueue.forEach(item => {\r\n\t\t\t\tif (item.id === action.payload.id) item.status = null\r\n\t\t\t})\r\n\t\t\tconsole.log(\"offlineQueue\", offlineQueue)\r\n\t\t\tsetOfflineQueue(offlineQueue)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tofflineQueue,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase HANDLE_ONLINE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tonlineCount: state.onlineCount+1,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase REFRESH_OFFLINE_QUEUE:\r\n\t\t\tif (action.offlineQueue){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tofflineQueue: action.offlineQueue,\r\n\t\t\t\t}\r\n\t\t\t} else if (action.offlineFileCount){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tofflineFileCount: action.offlineFileCount,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t\t// case FETCH_SITEOPTIONS:\r\n\r\n\t}\r\n}","import { FETCH_CHECKS, CREATE_CHECK, REMOVE_MESSAGE, EDIT_CHECK, DELETE_CHECK, MASS_DELETE_CHECK, ADD_QUEUE_MESSAGE, ADD_CHECK_SERVER_ERROR_MESSAGE } from '../actions/types'\r\nimport localForage from \"localforage\";\r\n\r\nconst initialState = {\r\n    checkMessages: [],\r\n\tchecks: {},\r\n}\r\n\r\nfunction getMessageID(){\r\n\tlet id = parseInt(window.localStorage.getItem('message-id') || \"0\")\r\n\twindow.localStorage.setItem('message-id', id+1)\r\n\treturn id\r\n}\r\n\r\nfunction deleteAutoSave(checkID){\r\n\r\n\tlocalForage.getItem(`save_check_${checkID}`).then((result) => {\r\n\t\tif (result){\r\n\t      let getFilesToDelete = async (result) => {\r\n\t        async function forageComments(comments){\r\n\t          let filesToDelete = []\r\n\t          for (const commentItem of comments) {\r\n\t            if (commentItem.image && commentItem.image.length > 0){\r\n\t              for (const imageItem of commentItem.image) {\r\n\t                if (imageItem.url && typeof imageItem.url === 'number'){\r\n\t                  filesToDelete.push(imageItem.url)\r\n\t                }\r\n\t              }\r\n\t            }\r\n\t          }\r\n\t          return filesToDelete\r\n\t        }\r\n\r\n\t        let filesToDelete = []\r\n\t        let saveItem = JSON.parse(result)\r\n\t        let epFiles = await forageComments(saveItem.comments)\r\n\t        filesToDelete = filesToDelete.concat(epFiles)\r\n\t        for (const roomItem of saveItem.rooms) {\r\n\t          let roomFiles = await forageComments(roomItem.comments)\r\n\t          filesToDelete = filesToDelete.concat(roomFiles)\r\n\t        }\r\n\t        console.log(\"deleteAutoSave filesToDelete\", filesToDelete)\r\n\t        for (const imageItem of filesToDelete) {\r\n\t        \tlocalForage.removeItem(`file ${imageItem}`)\r\n\t        }\r\n\t        localForage.removeItem(`save_check_${checkID}`)\r\n\t      }\r\n\t      getFilesToDelete(result)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n\tconsole.log(\"action\", action)\r\n\tlet checks = null\r\n\tlet checkMessages = null\r\n\tswitch(action.type) {\r\n\t\tcase FETCH_CHECKS:\r\n\t\t\t// let newAddresses = state.checks\r\n\t\t\t// newAddresses[action.page] = action.payload\r\n\t\t\tif (action.clearResults === true){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tchecks: {\r\n\t\t\t\t        [action.params.page]: action.payload\r\n\t\t\t\t      },\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tchecks: Object.assign({}, state['checks'], {\r\n\t\t\t\t        [action.params.page]: action.payload\r\n\t\t\t\t      }),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase CREATE_CHECK:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckMessages: state['checkMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase EDIT_CHECK:\r\n\t\t\t// Update existing check\r\n\t\t\tchecks = Object.assign({}, state['checks'])\r\n\t\t\tObject.keys(checks).forEach((page) => {\r\n\t\t\t\tchecks[page].results.forEach((item, i) => {\r\n\t\t\t\t\tif (item.id === action.payload.item.id)\tchecks[page].results[i] = action.payload.item\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t// Delete autosave\r\n\t\t\tdeleteAutoSave(action.payload.item.id)\r\n\t\t\t// Update messages\r\n\t\t\tcheckMessages = state['checkMessages']\r\n\t\t\tcheckMessages.forEach((message) => {\r\n\t\t\t\tif (message.item && message.item.id && message.item.id === action.payload.item.id){\r\n\t\t\t\t\tmessage.item = action.payload.item\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tchecks: checks,\r\n\t\t\t\tcheckMessages: checkMessages.concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase DELETE_CHECK:\r\n\t\t\tchecks = Object.assign({}, state['checks'])\r\n\t\t\tcheckMessages = state['checkMessages'].filter(message =>!message.item || message.item.id !== action.payload.item.id)\r\n\t\t\tObject.keys(checks).forEach((page) => {\r\n\t\t\t\tchecks[page].results.forEach((item, i) => {\r\n\t\t\t\t\tif (item.id === action.payload.item.id)\tchecks[page].results.splice(i, 1)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tchecks: checks,\r\n\t\t\t\tcheckMessages: checkMessages.concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase MASS_DELETE_CHECK:\r\n\t\t\tchecks = Object.assign({}, state['checks'])\r\n\t\t\tcheckMessages = state['checkMessages']\r\n\t\t\taction.payload.id_array.forEach(removeID => {\r\n\t\t\t\tcheckMessages = checkMessages.filter(message =>!message.item || message.item.id !== removeID)\r\n\t\t\t\tObject.keys(checks).forEach((page) => {\r\n\t\t\t\t\tchecks[page].results.forEach((item, i) => {\r\n\t\t\t\t\t\tif (removeID === item.id) checks[page].results.splice(i, 1)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tchecks: checks,\r\n\t\t\t\tcheckMessages: checkMessages.concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase REMOVE_MESSAGE:\r\n\t\t\tcheckMessages = state['checkMessages'].filter(message => message.id !== action.payload)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckMessages,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase ADD_QUEUE_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckMessages: state['checkMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase ADD_CHECK_SERVER_ERROR_MESSAGE:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckMessages: state['checkMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t\t// case FETCH_SITEOPTIONS:\r\n\r\n\t}\r\n}","import { GET_USER_LIST, CREATE_USER, EDIT_USER, MASS_DELETE_USER, REMOVE_MESSAGE, ADD_QUEUE_MESSAGE, ADD_USER_SERVER_ERROR_MESSAGE, ADD_USER_MESSAGE, DELETE_USER, SET_SHOW_CREATE_USER_MODAL, SET_CREATE_USER_ERRORS } from '../actions/types'\r\n\r\nconst initialState = {\r\n    userMessages: [],\r\n\tuserList: [],\r\n\tcreateUserErrors: {},\r\n\tshowCreateUserModal: false,\r\n}\r\n\r\nfunction getMessageID(){\r\n\tlet id = parseInt(window.localStorage.getItem('message-id') || \"0\")\r\n\twindow.localStorage.setItem('message-id', id+1)\r\n\treturn id\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n\tconsole.log(\"action.payload\", action.payload)\r\n\tlet userList = []\r\n\tlet userMessages = []\r\n\tswitch(action.type) {\r\n\t\tcase SET_SHOW_CREATE_USER_MODAL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshowCreateUserModal: action.payload,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase SET_CREATE_USER_ERRORS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcreateUserErrors: action.payload,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase GET_USER_LIST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserList: action.payload,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase CREATE_USER:\r\n\t\t\t// userList = Object.assign({}, state['userList'])\r\n\t\t\t// Object.keys(userList).forEach((page) => {\r\n\t\t\t// \tuserList[page].results.unshift(action.payload.item)\r\n\t\t\t// })\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t// userList: userList,\r\n\t\t\t\tuserMessages: state['userMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase EDIT_USER:\r\n\t\t\t// Update existing userList\r\n\t\t\tuserList = state['userList']\r\n\t\t\tuserList.forEach((item, i) => {\r\n\t\t\t\tif (item.id === action.payload.item.id)\tuserList[i] = action.payload.item\r\n\t\t\t})\r\n\t\t\t// Update messages\r\n\t\t\tuserMessages = state['userMessages']\r\n\t\t\tuserMessages.forEach((message) => {\r\n\t\t\t\tif (message.item && message.item.id && message.item.id === action.payload.item.id){\r\n\t\t\t\t\tmessage.item = action.payload.item\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserList: userList,\r\n\t\t\t\tuserMessages: userMessages.concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase MASS_DELETE_USER:\r\n\t\t\tuserList = state['userList']\r\n\t\t\tuserMessages = state['userMessages']\r\n\t\t\taction.payload.id_array.forEach(removeID => {\r\n\t\t\t\tuserMessages = userMessages.filter(message =>!message.item || message.item.id !== removeID)\r\n\t\t\t\tuserList.forEach((item, i) => {\r\n\t\t\t\t\tif (removeID === item.id) userList.splice(i, 1)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserList: userList,\r\n\t\t\t\tuserMessages: state['userMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase ADD_USER_MESSAGE:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserMessages: state['userMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase REMOVE_MESSAGE:\r\n\t\t\tuserMessages = state['userMessages'].filter(message => message.id !== action.payload)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserMessages,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase ADD_QUEUE_MESSAGE:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserMessages: state['userMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase ADD_USER_SERVER_ERROR_MESSAGE:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserMessages: state['userMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase DELETE_USER:\r\n\t\t\tuserList = state['userList']\r\n\t\t\tuserMessages = state['userMessages'].filter(message =>!message.item || message.item.id !== action.payload.item.id)\r\n\t\t\tuserList.forEach((item, i) => {\r\n\t\t\t\tif (item.id === action.payload.item.id)\tuserList.splice(i, 1)\r\n\t\t\t})\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserList: userList,\r\n\t\t\t\tuserMessages: userMessages.concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { FETCH_REPORTS, ADD_REPORT_SERVER_ERROR_MESSAGE } from '../actions/types'\r\n\r\nconst initialState = {\r\n    reportMessages: [],\r\n\treports: {},\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n\tconsole.log(\"action\", action)\r\n\tswitch(action.type) {\r\n\t\tcase FETCH_REPORTS:\r\n\t\t\tif (action.clearResults === true){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\treports: {\r\n\t\t\t\t        [action.params.page]: action.payload\r\n\t\t\t\t      },\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\treports: Object.assign({}, state['reports'], {\r\n\t\t\t\t        [action.params.page]: action.payload\r\n\t\t\t\t      }),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\t// case CREATE_ADDRESS:\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\taddressMessages: state['addressMessages'].concat([action.payload]),\r\n\t\t// \t}\r\n\t\t// \t/* falls through */\r\n\t\t// case EDIT_ADDRESS:\r\n\t\t// \taddresses = Object.assign({}, state['addresses'])\r\n\t\t// \tObject.keys(addresses).forEach((page) => {\r\n\t\t// \t\taddresses[page].results.forEach((item, i) => {\r\n\t\t// \t\t\tif (item.id === action.payload.item.id)\taddresses[page].results[i] = action.payload.item\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\taddresses: addresses,\r\n\t\t// \t\taddressMessages: state['addressMessages'].concat([action.payload]),\r\n\t\t// \t}\r\n\t\t// \t/* falls through */\r\n\t\t// case DELETE_ADDRESS:\r\n\t\t// \taddresses = Object.assign({}, state['addresses'])\r\n\t\t// \tObject.keys(addresses).forEach((page) => {\r\n\t\t// \t\taddresses[page].results.forEach((item, i) => {\r\n\t\t// \t\t\tif (item.id === action.payload.item.id)\taddresses[page].results.splice(i, 1)\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\taddresses: addresses,\r\n\t\t// \t\taddressMessages: state['addressMessages'].concat([action.payload]),\r\n\t\t// \t}\r\n\t\t// \t/* falls through */\r\n\t\t// case MASS_DELETE_ADDRESS:\r\n\t\t// \taddresses = Object.assign({}, state['addresses'])\r\n\t\t// \taction.payload.id_array.forEach(removeID => {\r\n\t\t// \t\tObject.keys(addresses).forEach((page) => {\r\n\t\t// \t\t\taddresses[page].results.forEach((item, i) => {\r\n\t\t// \t\t\t\tif (removeID === item.id) addresses[page].results.splice(i, 1)\r\n\t\t// \t\t\t})\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\taddresses: addresses,\r\n\t\t// \t\taddressMessages: state['addressMessages'].concat([action.payload]),\r\n\t\t// \t}\r\n\t\t// \t/* falls through */\r\n\t\t// case REMOVE_MESSAGE:\r\n\t\t// \tconst addressMessages = state['addressMessages'].filter(message => message.type !== action.payload.type && message.item.id !== action.payload.item.id)\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\taddressMessages,\r\n\t\t// \t}\r\n\t\t// \t/* falls through */\r\n\t\t// case ADD_QUEUE_MESSAGE:\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\taddressMessages: state['addressMessages'].concat([action.payload]),\r\n\t\t// \t}\r\n\t\t// \t/* falls through */\r\n\t\tcase ADD_REPORT_SERVER_ERROR_MESSAGE:\r\n\t\t\tlet id = window.localStorage.getItem('server-error-id') || 0\r\n\t\t\taction.payload.item = {id: id}\r\n\t\t\twindow.localStorage.setItem('server-error-id', id+1)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddressMessages: state['addressMessages'].concat([action.payload]),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { FETCH_SETTINGS, SUBMIT_SETTINGS, SET_SETTINGS_LOADING, ADD_SETTINGS_SERVER_ERROR_MESSAGE, REMOVE_MESSAGE, ADD_QUEUE_MESSAGE } from '../actions/types'\r\n\r\nconst initialState = {\r\n    settingsMessages: [],\r\n    hiddenElement: null,\r\n\tsettings: {\r\n      midterm_declaration: \"\",\r\n      disclaimer: \"\",\r\n      room_names: [],\r\n      default_rooms: [],\r\n\t},\r\n\tisLoading: false,\r\n}\r\n\r\nfunction getMessageID(){\r\n\tlet id = parseInt(window.localStorage.getItem('message-id') || \"0\")\r\n\twindow.localStorage.setItem('message-id', id+1)\r\n\treturn id\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n\tconsole.log(\"action\", action)\r\n\tlet settingsMessages = null\r\n\tswitch(action.type) {\r\n\t\tcase FETCH_SETTINGS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tsettings: Object.assign({}, state['settings'], {\r\n\t\t\t        midterm_declaration: action.midterm_declaration,\r\n\t\t\t        disclaimer: action.disclaimer,\r\n\t\t\t        room_names: action.room_names,\r\n\t\t\t        default_rooms: action.default_rooms,\r\n\t\t\t      }),\r\n\t\t\t\thiddenElement: action.hiddenElement,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase SUBMIT_SETTINGS:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tsettingsMessages: state['settingsMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t\tsettings: Object.assign({}, state['settings'], {\r\n\t\t\t        midterm_declaration: action.midterm_declaration,\r\n\t\t\t        disclaimer: action.disclaimer,\r\n\t\t\t        room_names: action.room_names,\r\n\t\t\t        default_rooms: action.default_rooms,\r\n\t\t\t      }),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase SET_SETTINGS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase ADD_SETTINGS_SERVER_ERROR_MESSAGE:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsettingsMessages: state['settingsMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase REMOVE_MESSAGE:\r\n\t\t\tsettingsMessages = state['settingsMessages'].filter(message => message.id !== action.payload)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsettingsMessages,\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tcase ADD_QUEUE_MESSAGE:\r\n\t\t\taction.payload.id = getMessageID()\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsettingsMessages: state['settingsMessages'].concat([action.payload]).slice(-3),\r\n\t\t\t}\r\n\t\t\t/* falls through */\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { combineReducers } from 'redux'\r\nimport siteReducer from './siteReducer'\r\nimport authReducer from './authReducer'\r\nimport addressReducer from './addressReducer'\r\nimport offlineReducer from './offlineReducer'\r\nimport checkReducer from './checkReducer'\r\nimport userReducer from './userReducer'\r\nimport reportReducer from './reportReducer'\r\nimport settingsReducer from './settingsReducer'\r\n\r\nexport default combineReducers({\r\n\tsite: siteReducer,\r\n\r\n\tauth: authReducer,\r\n\taddress: addressReducer,\r\n\toffline: offlineReducer,\r\n\tcheck: checkReducer,\r\n\tuser: userReducer,\r\n\treport: reportReducer,\r\n\tsettings: settingsReducer,\r\n})","export const SET_PAGE_OPACITY = 'SET_PAGE_OPACITY'\r\nexport const SET_PAGE_CONTENT_SELECTOR = 'SET_PAGE_CONTENT_SELECTOR'\r\n\r\nexport const FETCH_ADDRESSES = 'FETCH_ADDRESSES'\r\nexport const CREATE_ADDRESS = 'CREATE_ADDRESS'\r\nexport const REMOVE_MESSAGE = 'REMOVE_MESSAGE'\r\nexport const EDIT_ADDRESS = 'EDIT_ADDRESS'\r\nexport const DELETE_ADDRESS = 'DELETE_ADDRESS'\r\nexport const MASS_DELETE_ADDRESS = 'MASS_DELETE_ADDRESS'\r\nexport const ADD_QUEUE_MESSAGE = 'ADD_QUEUE_MESSAGE'\r\n\r\nexport const LOGIN = 'LOGIN'\r\nexport const LOGIN_ERROR = 'LOGIN_ERROR'\r\nexport const LOGOUT = 'LOGOUT'\r\nexport const SET_AUTHKEY = 'SET_AUTHKEY'\r\nexport const SET_CURRENT_ID = 'SET_CURRENT_ID'\r\n\r\nexport const PUSH_ADDRESS_TO_OFFLINE_QUEUE = 'PUSH_ADDRESS_TO_OFFLINE_QUEUE'\r\nexport const PUSH_OFFLINE_QUEUE = 'PUSH_OFFLINE_QUEUE'\r\nexport const REMOVE_OFFLINE_QUEUE_ITEM = 'REMOVE_OFFLINE_QUEUE_ITEM'\r\nexport const SET_QUEUE_ITEM_PENDING = 'SET_QUEUE_ITEM_PENDING'\r\nexport const UNSET_QUEUE_ITEM_PENDING = 'UNSET_QUEUE_ITEM_PENDING'\r\nexport const HANDLE_ONLINE = 'HANDLE_ONLINE'\r\nexport const REFRESH_OFFLINE_QUEUE = 'REFRESH_OFFLINE_QUEUE'\r\nexport const ADD_ADDRESS_SERVER_ERROR_MESSAGE = 'ADD_ADDRESS_SERVER_ERROR_MESSAGE'\r\n\r\nexport const SAVE_CHECK = 'SAVE_CHECK'\r\nexport const PUSH_CHECK_TO_OFFLINE_QUEUE = 'PUSH_CHECK_TO_OFFLINE_QUEUE'\r\nexport const FETCH_CHECKS = 'FETCH_CHECKS'\r\nexport const CREATE_CHECK = 'CREATE_CHECK'\r\nexport const EDIT_CHECK = 'EDIT_CHECK'\r\nexport const DELETE_CHECK = 'DELETE_CHECK'\r\nexport const MASS_DELETE_CHECK = 'MASS_DELETE_CHECK'\r\nexport const ADD_CHECK_SERVER_ERROR_MESSAGE = 'ADD_CHECK_SERVER_ERROR_MESSAGE'\r\n\r\nexport const GET_USER_LIST = 'GET_USER_LIST'\r\nexport const CREATE_USER = 'CREATE_USER'\r\nexport const EDIT_USER = 'EDIT_USER'\r\nexport const PUSH_USER_TO_OFFLINE_QUEUE = 'PUSH_USER_TO_OFFLINE_QUEUE'\r\nexport const ADD_USER_SERVER_ERROR_MESSAGE = 'ADD_USER_SERVER_ERROR_MESSAGE'\r\nexport const MASS_DELETE_USER = 'MASS_DELETE_USER'\r\nexport const ADD_USER_MESSAGE = 'ADD_USER_MESSAGE'\r\nexport const DELETE_USER = 'DELETE_USER'\r\nexport const SET_SHOW_CREATE_USER_MODAL = 'SET_SHOW_CREATE_USER_MODAL'\r\nexport const SET_CREATE_USER_ERRORS = 'SET_CREATE_USER_ERRORS'\r\n\r\nexport const FETCH_REPORTS = 'FETCH_REPORTS'\r\nexport const ADD_REPORT_SERVER_ERROR_MESSAGE = 'ADD_REPORT_SERVER_ERROR_MESSAGE'\r\n\r\nexport const FETCH_SETTINGS = 'FETCH_SETTINGS'\r\nexport const SUBMIT_SETTINGS = 'SUBMIT_SETTINGS'\r\nexport const ADD_ROOM = 'ADD_ROOM'\r\nexport const REMOVE_ROOM = 'REMOVE_ROOM'\r\nexport const SET_SETTINGS_LOADING = 'SET_SETTINGS_LOADING'\r\nexport const ADD_SETTINGS_SERVER_ERROR_MESSAGE = 'ADD_SETTINGS_SERVER_ERROR_MESSAGE'","import { createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from './reducers'\r\n\r\nconst initalState = {\r\n\r\n}\r\n\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(rootReducer, initalState, applyMiddleware(...middleware))\r\n\r\nexport default store","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\n/**\r\n * Wraps the React Router Link component and creates a delay after the link is clicked.\r\n */\r\nexport default class DelayLink extends React.Component {\r\n  static propTypes = {\r\n    /**\r\n     * Milliseconds to wait before registering the click.\r\n     */\r\n    delay:        PropTypes.number,\r\n    /**\r\n     * Called after the link is clicked and before the delay timer starts.\r\n     */\r\n    onDelayStart: PropTypes.func,\r\n    /**\r\n     * Called after the delay timer ends.\r\n     */\r\n    onDelayEnd:   PropTypes.func\r\n  };\r\n\r\n  static defaultProps = {\r\n    delay:        0,\r\n    onDelayStart: () => {},\r\n    onDelayEnd:   () => {}\r\n  };\r\n\r\n  static contextTypes = Link.contextTypes;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.timeout = null;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Called when the link is clicked\r\n   *\r\n   * @param {Event} e\r\n   */\r\n  handleClick = (e) => {\r\n    const { replace, to, delay, onDelayStart, onDelayEnd } = this.props;\r\n    const { history } = this.props;\r\n\r\n    onDelayStart(e, to);\r\n    if (e.defaultPrevented) {\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n\r\n    this.timeout = setTimeout(() => {\r\n      if (replace) {\r\n        history.replace(to);\r\n      } else {\r\n        history.push(to);\r\n      }\r\n      onDelayEnd(e, to);\r\n    }, delay);\r\n  };\r\n\r\n  render() {\r\n    const props = Object.assign({}, this.props);\r\n    delete props.delay;\r\n    delete props.onDelayStart;\r\n    delete props.onDelayEnd;\r\n\r\n    return (\r\n      <a {...props} onClick={this.handleClick} />\r\n    );\r\n  }\r\n}\r\n","import { SET_PAGE_OPACITY, SET_PAGE_CONTENT_SELECTOR } from './types'\r\n// import { api_url } from '../../api_url'\r\nimport anime from 'animejs';\r\n\r\nexport const toggleAlignCenter = (isCenter) => dispatch => {\r\n  console.log(\"toggleAlignCenter\", isCenter)\r\n  const centerRow = document.querySelector('.center-row')\r\n  let offsetTop = centerRow.offsetTop + centerRow.offsetHeight\r\n  // anime({\r\n  //     targets: '.center-row',\r\n  //     marginTop: offsetTop*-1,\r\n  //     // delay: 250,\r\n  //     duration: 1000,\r\n  //     easing: 'easeInOutQuad',\r\n  //   });\r\n}\r\n\r\nexport const setPageOpacity = (value, offsetX) => dispatch => {\r\n\tconsole.log(\"setPageOpacity\", value, offsetX)\r\n\t  dispatch({\r\n\t    type: SET_PAGE_OPACITY,\r\n\t    page_opacity: value,\r\n\t    page_left: offsetX,\r\n\t  })\r\n      // setTimeout(()=>{\r\n\t\t// document.querySelector('.page').style.setProperty('opacity', value)\r\n\t\t// document.querySelector('.page').style.setProperty('left', offsetX)\r\n      // }, 100)\r\n\t// document.querySelector('.page').style.setProperty('transform', `translateX(${offsetX.toString()}px);`)\r\n      // anime({\r\n      //   targets: [document.querySelector('.page')],\r\n      //   keyframes: [\r\n      //     {opacity: value, duration: 1000},\r\n      //   ],\r\n      //   delay: 250,\r\n      //   easing: 'easeInOutQuad',\r\n      // });\r\n}\r\n\r\nexport const setPageContentSelector = (value) => dispatch => {\r\n      console.log(\"setPageContentSelector\", value)\r\n        dispatch({\r\n          type: SET_PAGE_CONTENT_SELECTOR,\r\n          payload: value,\r\n        })\r\n}","import React, { Component } from 'react';\r\n// import { Container, Table, Row, Col, Navbar, Breadcrumb, Dropdown, DropdownButton, Form, Alert, Spinner } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport DelayLink from './DelayLink.js'\r\nimport { createBrowserHistory } from 'history';\r\nimport { connect } from 'react-redux'\r\nimport { setPageOpacity } from '../redux/actions/siteActions'\r\n\r\nclass ProjectTile extends Component {\r\n\r\n  render(){\r\n    return (\r\n      <DelayLink \r\n      \tdelay={250} \r\n      \tto={this.props.projectURL} \r\n      \thistory={this.props.history} \r\n      \tclassName={`${this.props.defaultOpaque ? 'defaultOpaque' : ''} ${this.props.className ? this.props.className : ''} project-tile`}\r\n      >\r\n        {this.props.heading && this.props.heading}\r\n        <img src={this.props.imgURL} className=\"w-100\" alt={this.props.imgAlt} />\r\n        <h3 className=\"mt-2 mb-0\">{this.props.title}</h3>\r\n      </DelayLink>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  history: state.site.history,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setPageOpacity })(ProjectTile);\r\n","import React, { Component } from 'react';\r\nimport ProjectTile from './ProjectTile.js'\r\n// import { Container, Table, Row, Col, Navbar, Breadcrumb, Dropdown, DropdownButton, Form, Alert, Spinner } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Page extends Component {\r\n\r\n  render(){\r\n    return (\r\n    <div \r\n    \tclassName={this.props.className+\" page\"} \r\n    \tstyle={{\r\n    \t\t// opacity: this.props.page_opacity,\r\n    \t\t// transform: `translateX(${this.props.page_left}px)`,\r\n    \t}}\r\n    >{this.props.inner}</div>);\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  page_opacity: state.site.page_opacity,\r\n  page_left: state.site.page_left,\r\n});\r\n\r\nexport default connect(mapStateToProps, { })(Page);","import React, { Component } from 'react';\r\nimport { Container, Table, Row, Col, Navbar, Breadcrumb, Dropdown, DropdownButton, Form, Alert, Spinner } from 'react-bootstrap'\r\nimport anime from 'animejs';\r\nimport Page from '../components/Page.js'\r\nimport ProjectTile from '../components/ProjectTile.js'\r\nimport { Router } from \"react-router\";\r\nimport { Route, Switch, Link } from 'react-router-dom'\r\nimport { createBrowserHistory } from 'history';\r\nimport DelayLink from '../components/DelayLink.js'\r\nimport { connect } from 'react-redux'\r\nimport { setPageOpacity, setPageContentSelector } from '../redux/actions/siteActions'\r\n\r\nclass ProjectsPage extends Component {\r\n\r\n  componentDidMount(){\r\n      // setTimeout(()=>this.props.setPageOpacity(1, 0), 10)\r\n    this.props.setPageContentSelector(['.page', '.page .made-with-col li:nth-child(4)', '.page > projects'].join(', '))\r\n\r\n      const projects = [\r\n        '.page > .project-tile:nth-child(1)',\r\n        '.page > .project-tile:nth-child(2)',\r\n        '.page > .project-tile:nth-child(3)',\r\n      ]\r\n\r\n      const projectPageSelector = [\r\n        projects[0],\r\n        projects[1],\r\n        projects[2],\r\n      ].join(', ')\r\n\r\n      this.props.setPageContentSelector(projectPageSelector)\r\n  }\r\n\r\n  render(){\r\n      // this.props.setPageOpacity(1)\r\n    return (\r\n      <Page\r\n        className=\"row\"\r\n        inner={\r\n          <>\r\n            <ProjectTile\r\n              title=\"SAB Property Management App\"\r\n              projectURL={this.props.routes.projectsSAB}\r\n              imgURL=\"/sabapp.png\"\r\n              imgAlt=\"SAB App\"\r\n              defaultOpaque={true}\r\n              className='col-md-3 col-6'\r\n            />\r\n            <ProjectTile\r\n              title=\"Sam and Max Website\"\r\n              projectURL={this.props.routes.projectsSamAndMax}\r\n              imgURL=\"/samandmax.png\"\r\n              imgAlt=\"Sam and Max\"\r\n              defaultOpaque={true}\r\n              className='col-md-3 col-6'\r\n            />\r\n            <ProjectTile\r\n              title=\"Advanced Boosters Virtual Item Store\"\r\n              projectURL={this.props.routes.projectsAB}\r\n              imgURL=\"/abapp.png\"\r\n              imgAlt=\"Advanced Boosters\"\r\n              defaultOpaque={true}\r\n              className='col-md-3 col-6'\r\n            />\r\n          </>\r\n        }\r\n      />)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  history: state.site.history,\r\n  routes: state.site.routes,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setPageOpacity, setPageContentSelector })(ProjectsPage);","import React, { Component } from 'react';\r\nimport { Container, Table, Row, Col, Navbar, Breadcrumb, Dropdown, DropdownButton, Form, Alert, Spinner } from 'react-bootstrap'\r\nimport anime from 'animejs';\r\nimport Page from '../components/Page.js'\r\nimport ProjectTile from '../components/ProjectTile.js'\r\nimport { Router } from \"react-router\";\r\nimport { Route, Switch, Link } from 'react-router-dom'\r\nimport { createBrowserHistory } from 'history';\r\nimport DelayLink from '../components/DelayLink.js'\r\nimport { connect } from 'react-redux'\r\nimport { setPageOpacity, setPageContentSelector } from '../redux/actions/siteActions'\r\n\r\nclass AboutPage extends Component {\r\n\r\n  componentDidMount(){\r\n    this.props.setPageContentSelector(['.page', '.page img', '.page > about'].join(', '))\r\n      // const projects = [\r\n      //   '.page > .project-tile:nth-child(1)',\r\n      //   '.page > .project-tile:nth-child(2)',\r\n      //   '.page > .project-tile:nth-child(3)',\r\n      //   '.page > .project-tile:nth-child(4)',\r\n      // ]\r\n\r\n      // const projectPageSelector = [\r\n      //   projects[0],\r\n      //   projects[1],\r\n      //   projects[2],\r\n      // ].join(', ')\r\n\r\n      // this.props.setPageContentSelector(projectPageSelector)\r\n  }\r\n\r\n  render(){\r\n    // window.requestAnimationFrame(function() {\r\n    //   document.querySelectorAll(['.page', '.page img'].join(', ')).forEach(ele => ele.removeAttribute('style'))\r\n    // });\r\n    return (\r\n      <Page\r\n        className=\"row defaultOpaque\"\r\n        inner={\r\n          <>\r\n            <Col sm={8} >\r\n              <p className=\"pb-2\">My name is Harry Johnson, I'm a freelance Web Developer based around Cambridge.</p>\r\n              <p className=\"pb-2\">After achieving a first-class bachelors degree in Computer Science at The University of Lincoln, I spent 3 years working as a Software Engineer and Website Developer at Camfed International.</p>\r\n              <p className=\"pb-2\">Now, I'm self-employed and build fully-fledged sites and apps from the ground-up. I work mostly with Django and ReactJS, usually in combination with Wagtail and Redux. I am proficient in C#, C++, PHP, Python, JavaScript, CSS, and HTML.</p>\r\n              <p className=\"pb-2\">Some of the private projects I've worked on include a mobile phone messaging app, a social network, a photo management website, a learning management system, and an evolving video game AI.</p>\r\n            </Col>\r\n            <Col sm={4}>\r\n              <img src=\"/me-cropped-2.png\" className=\"w-100 pb-1\"/>\r\n            </Col>\r\n          </>\r\n        }\r\n      />)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // history: state.site.history,\r\n  // routes: state.site.routes,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setPageContentSelector })(AboutPage);","import React, { Component } from 'react';\r\nimport { Container, Table, Row, Col, Navbar, Breadcrumb, Dropdown, DropdownButton, Form, Alert, Spinner } from 'react-bootstrap'\r\nimport anime from 'animejs';\r\nimport Page from '../components/Page.js'\r\nimport ProjectTile from '../components/ProjectTile.js'\r\nimport { Router } from \"react-router\";\r\nimport { Route, Switch, Link } from 'react-router-dom'\r\nimport { createBrowserHistory } from 'history';\r\nimport DelayLink from '../components/DelayLink.js'\r\nimport { connect } from 'react-redux'\r\nimport { setPageOpacity, setPageContentSelector } from '../redux/actions/siteActions'\r\n\r\nclass ServicesPage extends Component {\r\n\r\n  componentDidMount(){\r\n    this.props.setPageContentSelector(['.page', '.page > *', '.page > services'].join(', '))\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <Page\r\n        className=\"row defaultOpaque\"\r\n        inner={\r\n          <>\r\n            <Col sm={12}>\r\n              <p className=\"pb-2\"><i>Pricing varies depending on project complexity. <Link className=\"underline-link\" to='/#contact'>Get in touch</Link> for a free consultation.</i></p>\r\n            </Col>\r\n            <Col sm={5}>\r\n              <ul>\r\n                <li>Fully Bespoke Websites</li>\r\n                <li>Content Management Systems</li>\r\n                <li>Native Applications</li>\r\n              </ul>\r\n            </Col>\r\n            <Col sm={7}>\r\n              <ul>\r\n                <li>Real-time Messaging</li>\r\n                <li>Progressive Web Applications</li>\r\n                <li>Online Stores</li>\r\n              </ul>\r\n            </Col>\r\n          </>\r\n        }\r\n      />)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // history: state.site.history,\r\n  // routes: state.site.routes,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setPageContentSelector })(ServicesPage);","import React, { Component } from 'react';\r\nimport { Container, Table, Row, Col, Navbar, Breadcrumb, Dropdown, DropdownButton, Form, Alert, Spinner, Button } from 'react-bootstrap'\r\nimport anime from 'animejs';\r\nimport Page from '../components/Page.js'\r\nimport ProjectTile from '../components/ProjectTile.js'\r\nimport { Router } from \"react-router\";\r\nimport { Route, Switch, Link } from 'react-router-dom'\r\nimport { createBrowserHistory } from 'history';\r\nimport DelayLink from '../components/DelayLink.js'\r\nimport { connect } from 'react-redux'\r\nimport { setPageOpacity, setPageContentSelector } from '../redux/actions/siteActions'\r\n\r\nclass ContactPage extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      contactName: '',\r\n      contactEmail: '',\r\n      contactMessage: '',\r\n      nameError: null,\r\n      emailError: null,\r\n      messageError: null,\r\n      contactSuccess: false,\r\n      contactError: null,\r\n    }\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({[event.target.name]: event.target.value});\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    console.log(\"handleSubmit\")\r\n    const {contactName, contactEmail, contactMessage} = this.state\r\n    let nameError, emailError, messageError = null\r\n    if (contactName.length === 0) nameError = 'This field is required.'\r\n    if (contactEmail.length === 0) emailError = 'This field is required.'\r\n    else if (!/\\S+@\\S+\\.\\S+/.test(contactEmail)) emailError = 'Please enter a valid email.'\r\n    if (contactMessage.length === 0) messageError = 'This field is required.'\r\n    this.setState({\r\n      nameError, emailError, messageError\r\n    })\r\n    if (!nameError && !emailError && !messageError){\r\n      // Submit\r\n      console.log(\"valid form\")\r\n      /*eslint-disable no-undef*/\r\n      Email.send({\r\n          SecureToken : \"13c04aac-9bf7-4866-af02-4d5549b8dd75\",\r\n          To : 'hjwebdev@gmail.com', \r\n          From : \"hjwebdev@gmail.com\",\r\n          Subject : \"New message from hjwebdev\",\r\n          Body : `\r\n          Name: ${contactName}\r\n          <br>Email: ${contactEmail}\r\n          <br>Message:\r\n          <br>${contactMessage}\r\n          `\r\n      }).then(\r\n        message => {\r\n          if (message === 'OK'){\r\n            // Success\r\n            this.setState({\r\n              contactSuccess: true, \r\n              contactError: null,\r\n              contactName: '',\r\n              contactEmail: '',\r\n              contactMessage: '',\r\n            })\r\n          } else {\r\n            this.setState({contactSuccess: false, contactError: 'There was a problem submitting the form. Please contact me directly.'})\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.setPageContentSelector(['.page', '.page > *', '.page > contact'].join(', '))\r\n  }\r\n\r\n  render(){\r\n    const {contactName, contactEmail, contactMessage, nameError, emailError, messageError, contactSuccess, contactError} = this.state\r\n    return (\r\n      <Page\r\n        className=\"row defaultOpaque\"\r\n        inner={\r\n          <>\r\n            <Col sm={12}>\r\n              <p className=\"pb-2\">Get in touch for a free consultation, if you have any questions, or for anything else!</p>\r\n            </Col>\r\n            <Col sm={6} className=\"mb-4 name-container\">\r\n              <Form.Control \r\n                type=\"text\" \r\n                placeholder=\"Your name\" \r\n                name=\"contactName\" \r\n                id=\"contactName\" \r\n                onChange={this.handleChange} \r\n                value={contactName}\r\n              />\r\n              {nameError && <p className=\"form-error\">{nameError}</p>}\r\n            </Col>\r\n            <Col sm={6} className=\"mb-4 email-container\">\r\n              <Form.Control \r\n                type=\"text\" \r\n                placeholder=\"Your email\" \r\n                name=\"contactEmail\" \r\n                id=\"contactEmail\" \r\n                onChange={this.handleChange} \r\n                value={contactEmail}\r\n              />\r\n              {emailError && <p className=\"form-error\">{emailError}</p>}\r\n            </Col>\r\n            <Col sm={12} className=\"mb-4 message-container\">\r\n              <Form.Control \r\n                as=\"textarea\" \r\n                placeholder=\"Your message\" \r\n                name=\"contactMessage\" \r\n                id=\"contactMessage\" \r\n                onChange={this.handleChange} \r\n                value={contactMessage}\r\n              />\r\n              {messageError && <p className=\"form-error\">{messageError}</p>}\r\n            </Col>\r\n            <Col sm={12}>\r\n              {!contactSuccess ?\r\n                <Button variant=\"info\" className=\"float-right\" onClick={this.handleSubmit}>Submit</Button>\r\n                :\r\n                <Button variant=\"success\" className=\"float-right\" disabled={true} >Successfully sent</Button>\r\n              }\r\n              \r\n              <p className=\"\"><i>You can also reach me at 07874339969 on weekdays between 9AM and 6PM (GMT), or email me directly at hjwebdev@gmail.com.</i></p>\r\n              {contactError && <p className=\"form-error text-right\">{contactError}</p>}\r\n            </Col>\r\n          </>\r\n        }\r\n      />)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  // history: state.site.history,\r\n  // routes: state.site.routes,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setPageContentSelector })(ContactPage);","import React, { Component } from 'react';\r\nimport { Container, Table, Row, Col, Navbar, Breadcrumb, Dropdown, DropdownButton, Form, Alert, Spinner } from 'react-bootstrap'\r\nimport anime from 'animejs';\r\nimport Page from './Page.js'\r\nimport ProjectTile from './ProjectTile.js'\r\nimport { Router } from \"react-router\";\r\nimport { Route, Switch, Link } from 'react-router-dom'\r\nimport { createBrowserHistory } from 'history';\r\nimport DelayLink from './DelayLink.js'\r\nimport { connect } from 'react-redux'\r\nimport { setPageOpacity } from '../redux/actions/siteActions'\r\n\r\nclass BackPageButton extends Component {\r\n\r\n  render(){\r\n    return (\r\n      <DelayLink \r\n        delay={250} \r\n        to={this.props.to} \r\n        history={this.props.history}\r\n        className=\"back-button-link\"\r\n      ><img src=\"/back-arrow.png\" className=\"back-arrow\" /></DelayLink>)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  history: state.site.history,\r\n  routes: state.site.routes,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setPageOpacity })(BackPageButton);","import React, { Component } from 'react';\r\n\r\nconst pswpElement = \r\n    <div className=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n        <div className=\"pswp__bg\"></div>\r\n        <div className=\"pswp__scroll-wrap\">\r\n            <div className=\"pswp__container\">\r\n                <div className=\"pswp__item\"></div>\r\n                <div className=\"pswp__item\"></div>\r\n                <div className=\"pswp__item\"></div>\r\n            </div>\r\n            <div className=\"pswp__ui pswp__ui--hidden\">\r\n\r\n                <div className=\"pswp__top-bar\">\r\n                    <div className=\"pswp__counter\"></div>\r\n\r\n                    {/**<button className=\"pswp__button pswp__button--close\" title=\"Close (Esc)\">\r\n                        <i class=\"fas fa-compress\"></i>\r\n                    </button>**/}\r\n\r\n                    <button className=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\">\r\n                        <i class=\"fas fa-expand\"></i>\r\n                        <i class=\"fas fa-compress\"></i>\r\n                    </button>\r\n\r\n                    <button className=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\">\r\n                        <i class=\"fas fa-search-plus\"></i>\r\n                        <i class=\"fas fa-search-minus\"></i>\r\n                    </button>\r\n\r\n                    <div className=\"pswp__preloader\">\r\n                        <div className=\"pswp__preloader__icn\">\r\n                          <div className=\"pswp__preloader__cut\">\r\n                            <div className=\"pswp__preloader__donut\"></div>\r\n                          </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\r\n                    <div className=\"pswp__share-tooltip\"></div> \r\n                </div>\r\n\r\n                <button className=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\r\n                    <i class=\"fas fa-arrow-left\"></i>\r\n                </button>\r\n\r\n                <button className=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\r\n                    <i class=\"fas fa-arrow-right\"></i>\r\n                </button>\r\n\r\n                <div className=\"pswp__caption\">\r\n                    <div className=\"pswp__caption__center\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\nexport default pswpElement","import React, { Component } from 'react';\r\n// import logo from './logo.svg';\r\nimport '../App.css';\r\nimport { Container, Table, Row, Col, Navbar, Breadcrumb, Dropdown, DropdownButton, Form, Alert, Spinner, Tooltip, OverlayTrigger  } from 'react-bootstrap'\r\nimport anime from 'animejs';\r\nimport Page from '../components/Page.js'\r\nimport ProjectTile from '../components/ProjectTile.js'\r\nimport { Router } from \"react-router\";\r\nimport { Route, Switch, Link } from 'react-router-dom'\r\nimport { createBrowserHistory } from 'history';\r\nimport DelayLink from '../components/DelayLink.js'\r\nimport BackPageButton from '../components/BackPageButton.js'\r\nimport { connect } from 'react-redux'\r\nimport { setPageOpacity, toggleAlignCenter, setPageContentSelector } from '../redux/actions/siteActions'\r\nimport pswpElement from '../components/pswpElement.js'\r\n\r\nclass ProjectPageTemplate extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      previousProjectRoute: null,\r\n      previousProject: null,\r\n      nextProjectRoute: null,\r\n      nextProject: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.setPageContentSelector(['.page', '.page .made-with-col'].join(', '))\r\n    console.log(\"this.props.routes\", this.props.routes)\r\n    let isNextProjectRoute = false\r\n    const route = window.location.hash\r\n    const routesKeys = Object.keys(this.props.routes)\r\n    let newState = {\r\n      previousProject: null,\r\n    }\r\n    routesKeys.some((key, index) => {\r\n      // Check for previous project\r\n      if (routesKeys[index].startsWith('projects') &&\r\n        routesKeys.length > index &&\r\n        this.props.routes[routesKeys[index+1]] === route){\r\n        newState['previousProject'] = this.props.projects[routesKeys[index]]\r\n        newState['previousProjectRoute'] = this.props.routes[routesKeys[index]]\r\n      }\r\n      // Check for next project\r\n      if (this.props.routes[key] === route && \r\n        routesKeys.length > index &&\r\n        routesKeys[index+1].startsWith('projects')){\r\n        newState['nextProject'] = this.props.projects[routesKeys[index+1]]\r\n        newState['nextProjectRoute'] = this.props.routes[routesKeys[index+1]]\r\n      }\r\n    })\r\n    this.setState(newState)\r\n  }\r\n\r\n  initialiseGallery = (thisComp) => {\r\n    var pswpEle = document.querySelector('.pswp')\r\n\r\n    // define options (if needed)\r\n    var options = {\r\n      history: false,\r\n      maxSpreadZoom: 1,\r\n      focus: false,\r\n      escKey: false,\r\n      modal: false,\r\n      pinchToClose: false,\r\n      closeOnScroll: false,\r\n      closeOnVerticalDrag: false,\r\n      index: 0,\r\n      fullscreenEl: false,\r\n      zoomEl: false,\r\n      getDoubleTapZoom: function(isMouseClick, item) {\r\n        return item.initialZoomLevel;\r\n      },\r\n      addCaptionHTMLFn: function(item, captionEl, isFake) {\r\n        const hasTitle = item.title && item.title !== ''\r\n        const hasDesc = item.description && item.description !== ''\r\n        if (hasTitle && hasDesc) {\r\n          captionEl.children[0].innerHTML = item.title +  '<br/><small>' + item.description + '</small>';\r\n          return true\r\n        } else if (hasTitle || hasDesc) {\r\n          captionEl.children[0].innerHTML = hasTitle ? item.title : item.description;\r\n          return true\r\n        } else {\r\n          captionEl.children[0].innerText = '';\r\n          return false;\r\n        }\r\n      },\r\n    };\r\n\r\n    // Initializes and opens PhotoSwipe\r\n    /*eslint-disable no-undef*/\r\n    var gallery = new PhotoSwipe( pswpEle, PhotoSwipeUI_Default, thisComp.props.photoswipeItems, options);\r\n    gallery.listen('updateScrollOffset', function(_offset) {\r\n        var r = pswpEle.getBoundingClientRect();\r\n        _offset.x += r.left;\r\n        _offset.y += r.top;\r\n    });\r\n    /*eslint-enable no-undef*/\r\n    gallery.init();\r\n  }\r\n\r\n  render(){\r\n    let thisComp = this\r\n    window.requestAnimationFrame(function() {\r\n      window.scrollTo(0, 0)\r\n      thisComp.initialiseGallery(thisComp)\r\n    });\r\n\r\n    const {previousProject, previousProjectRoute, nextProject, nextProjectRoute} = this.state\r\n    \r\n    return (\r\n      <Page\r\n        className=\"defaultOpaque ml-2\"\r\n        inner={\r\n          <Row>\r\n            <Col sm={2}>\r\n              <OverlayTrigger\r\n                placement=\"bottom\"\r\n                overlay={\r\n                  <Tooltip id=\"button-tooltip\">\r\n                    <b>{this.props.clientHomepage ? 'Visit website' : 'Currently offline'}</b>\r\n                  </Tooltip>\r\n                }\r\n              >\r\n                {this.props.clientHomepage ?\r\n                  <a href={this.props.clientHomepage}>\r\n                    <img src={this.props.projectLogoURL} className=\"w-100 project-logo \" />\r\n                  </a>\r\n                  :\r\n                  <img src={this.props.projectLogoURL} className=\"w-100 project-logo \" />\r\n                }\r\n              </OverlayTrigger>\r\n            </Col>\r\n            <Col sm={10}>\r\n              <h3 className=\"project-title \">{this.props.projectTitle}</h3>\r\n              {this.props.projectWebsite && <a href={this.props.projectWebsite} className=\"project-website font-italic\">{this.props.projectWebsite}</a>}\r\n              <p className=\"project-subheading font-italic\">{this.props.projectSubtitle}</p>\r\n            </Col>\r\n            <Col sm={12} className=\"mt-3 pswp-col\">\r\n              {pswpElement}\r\n            </Col>\r\n            <Col sm={6} className=\"features-col mt-3\">\r\n              <p className=\"\">Features:</p>\r\n              <ul>\r\n                {this.props.projectFeatures.map(item => <li>{item}</li>)}\r\n              </ul>\r\n            </Col>\r\n            <Col sm={6} className=\"made-with-col mt-3 text-right\">\r\n              <p className=\"\">Made with:</p>\r\n              <ul className=\"logo-list\">\r\n                {this.props.projectMadeWith.map(item => \r\n                  <OverlayTrigger\r\n                    placement=\"bottom\"\r\n                    overlay={\r\n                      <Tooltip id=\"button-tooltip\">\r\n                        <b>{item.title}</b>\r\n                      </Tooltip>\r\n                    }\r\n                  >\r\n                    <li className=\"\">\r\n                      <a href={item.url}>\r\n                        <img src={item.logo} height=\"50\"/>\r\n                      </a>\r\n                    </li>\r\n                  </OverlayTrigger>\r\n                )}\r\n              </ul>\r\n            </Col>\r\n              {(previousProject || nextProject) && <hr/>}\r\n              {previousProject &&\r\n                    <ProjectTile\r\n                      title={previousProject.title}\r\n                      projectURL={previousProjectRoute}\r\n                      imgURL={previousProject.imgURL}\r\n                      imgAlt={previousProject.imgAlt}\r\n                      defaultOpaque={false}\r\n                      heading={<h4 className=\"project-tile-heading text-left\"><i class=\"fas fa-long-arrow-alt-left\"></i> Previous<span className=\"d-none d-md-inline\"> project</span></h4>}\r\n                      className={`col-6 col-sm-6 col-md-4 col-lg-3`}\r\n                    />\r\n              }\r\n              {nextProject &&\r\n                    <ProjectTile\r\n                      title={nextProject.title}\r\n                      projectURL={nextProjectRoute}\r\n                      imgURL={nextProject.imgURL}\r\n                      imgAlt={nextProject.imgAlt}\r\n                      defaultOpaque={false}\r\n                      heading={<h4 className=\"project-tile-heading text-right\">Next<span className=\"d-none d-md-inline\"> project</span> <i class=\"fas fa-long-arrow-alt-right\"></i></h4>}\r\n                      className={`col-6 col-sm-6 col-md-4 col-lg-3 ${previousProject ? 'offset-md-4 offset-lg-6' : 'offset-6 offset-md-8 offset-lg-9'}`}\r\n                    />\r\n              }\r\n          </Row>\r\n        }\r\n      />)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  history: state.site.history,\r\n  routes: state.site.routes,\r\n  projects: state.site.projects,\r\n});\r\n\r\n// export default ProjectPageTemplate\r\n\r\nexport default connect(mapStateToProps, { setPageContentSelector })(ProjectPageTemplate);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { setPageContentSelector } from '../redux/actions/siteActions'\r\nimport ProjectPageTemplate from './ProjectPageTemplate.js'\r\n\r\nclass SABProjectPage extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <ProjectPageTemplate\r\n        clientHomepage={'https://www.sab.co.uk/'}\r\n        projectLogoURL={'/sab-border-3.png'}\r\n        projectTitle={'SAB Property Management App'}\r\n        projectSubtitle={'Saint Andrews Bureau is a lettings, sales, estate management and investment company with offices located in London, Cambridgeshire and Hertfordshire.'}\r\n        photoswipeItems={[\r\n          {src: \"/screenshots/sab/sab (1).png\", title: \"Main menu\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sab/sab (2).png\", title: \"Address management\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sab/sab (3).png\", title: \"Address edit form\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sab/sab (4).png\", title: \"Routine check management\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sab/sab (5).png\", title: \"Routine check edit form\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sab/sab (7).png\", title: \"Routine check signature\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sab/sab (8).png\", title: \"Inventory edit form\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sab/sab (10).png\", title: \"User edit form\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sab/sab (11).png\", title: \"Inventory settings\", description: \"\", w:2405, h:1454},\r\n        ]}\r\n        projectFeatures={[\r\n          'Offline capability',\r\n          'Mobile friendly',\r\n          'Cross-platform - iOS/Android/Desktop browser',\r\n          'Touch-screen signature input',\r\n          'Modals',\r\n          'PDF reports',\r\n          'Email notifications',\r\n        ]}\r\n        projectMadeWith={[\r\n          {\r\n            title: 'ReactJS',\r\n            url: 'https://reactjs.org/',\r\n            logo: '/logos/reactjs-logo.png',\r\n          },\r\n          {\r\n            title: 'Django',\r\n            url: 'https://www.djangoproject.com/',\r\n            logo: '/logos/django-logo.png',\r\n          },\r\n          {\r\n            title: 'Bootstrap',\r\n            url: 'https://getbootstrap.com/',\r\n            logo: '/logos/bootstrap-logo.svg',\r\n          },\r\n          {\r\n            title: 'MySQL',\r\n            url: 'https://www.mysql.com/',\r\n            logo: '/logos/mysql-logo.png',\r\n          },\r\n        ]}\r\n        nextProject={this.props.nextProject}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  history: state.site.history,\r\n  routes: state.site.routes,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setPageContentSelector })(SABProjectPage);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { setPageContentSelector } from '../redux/actions/siteActions'\r\nimport ProjectPageTemplate from './ProjectPageTemplate.js'\r\n\r\nclass SMProjectPage extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <ProjectPageTemplate\r\n        clientHomepage={'https://samandmax.co.uk/'}\r\n        projectWebsite={'https://samandmax.co.uk/'}\r\n        projectLogoURL={'/sm-logo.png'}\r\n        projectTitle={'Sam and Max Website'}\r\n        projectSubtitle={'Sam and Max is a website based on the comic book, television series, and video game franchise.'}\r\n        photoswipeItems={[\r\n          {src: \"/screenshots/sm/sm (1).png\", title: \"Homepage\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sm/sm (2).png\", title: \"Article with comments\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sm/sm (3).png\", title: \"Page\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/sm/sm (4).png\", title: \"Forum homepage\", description: \"\", w:2405, h:1454},\r\n        ]}\r\n        projectFeatures={[\r\n          'Article management and editing',\r\n          'CMS',\r\n          'Mobile friendly',\r\n          'Integrated forum',\r\n          'SSO',\r\n          'Galleries',\r\n        ]}\r\n        projectMadeWith={[\r\n          {\r\n            title: 'ReactJS',\r\n            url: 'https://reactjs.org/',\r\n            logo: '/logos/reactjs-logo.png',\r\n          },\r\n          {\r\n            title: 'Django',\r\n            url: 'https://www.djangoproject.com/',\r\n            logo: '/logos/django-logo.png',\r\n          },\r\n          {\r\n            title: 'Wagtail',\r\n            url: 'https://wagtail.io/',\r\n            logo: '/logos/wagtail-logo.png',\r\n          },\r\n          {\r\n            title: 'Discourse',\r\n            url: 'https://www.discourse.org/',\r\n            logo: '/logos/discourse-logo.svg',\r\n          },\r\n          {\r\n            title: 'Bootstrap',\r\n            url: 'https://getbootstrap.com/',\r\n            logo: '/logos/bootstrap-logo.svg',\r\n          },\r\n          {\r\n            title: 'MySQL',\r\n            url: 'https://www.mysql.com/',\r\n            logo: '/logos/mysql-logo.png',\r\n          },\r\n        ]}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  history: state.site.history,\r\n  routes: state.site.routes,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setPageContentSelector })(SMProjectPage);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { setPageContentSelector } from '../redux/actions/siteActions'\r\nimport ProjectPageTemplate from './ProjectPageTemplate.js'\r\n\r\nclass ABProjectPage extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <ProjectPageTemplate\r\n        projectLogoURL={'/ab-logo.png'}\r\n        projectTitle={'Advanced Boosters Online Store'}\r\n        projectSubtitle={'Advanced Boosters is an online store selling gaming services.'}\r\n        photoswipeItems={[\r\n          {src: \"/screenshots/ab/ab (1).png\", title: \"Homepage banner\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/ab/ab (2).png\", title: \"Latest and popular products\", description: \"\", w:2405, h:1454},\r\n          {src: \"/screenshots/ab/ab (3).png\", title: \"Contact form\", description: \"\", w:2405, h:1454},\r\n        ]}\r\n        projectFeatures={[\r\n          'E-Commerce store',\r\n          'Mobile friendly',\r\n          'Real-time online chat',\r\n          'Staff fulfilment assignment',\r\n        ]}\r\n        projectMadeWith={[\r\n          {\r\n            title: 'ReactJS',\r\n            url: 'https://reactjs.org/',\r\n            logo: '/logos/reactjs-logo.png',\r\n          },\r\n          {\r\n            title: 'Django',\r\n            url: 'https://www.djangoproject.com/',\r\n            logo: '/logos/django-logo.png',\r\n          },\r\n          {\r\n            title: 'Shopify',\r\n            url: 'https://www.shopify.com/',\r\n            logo: '/logos/shopify-logo.png',\r\n          },\r\n          {\r\n            title: 'MySQL',\r\n            url: 'https://www.mysql.com/',\r\n            logo: '/logos/mysql-logo.png',\r\n          },\r\n        ]}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  history: state.site.history,\r\n  routes: state.site.routes,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setPageContentSelector })(ABProjectPage);","import React, { Component } from 'react';\nimport './App.css';\nimport { Container, Table, Row, Col, Navbar, Breadcrumb, Dropdown, DropdownButton, Form, Alert, Spinner } from 'react-bootstrap'\nimport anime from 'animejs';\nimport Page from './components/Page.js'\nimport ProjectTile from './components/ProjectTile.js'\nimport { Router } from \"react-router\";\nimport { Route, Switch, Link } from 'react-router-dom'\nimport { createBrowserHistory } from 'history';\nimport DelayLink from './components/DelayLink.js'\nimport { connect } from 'react-redux'\nimport { setPageOpacity } from './redux/actions/siteActions'\nimport ProjectsPage from './pages/ProjectsPage.js'\nimport AboutPage from './pages/AboutPage.js'\nimport ServicesPage from './pages/ServicesPage.js'\nimport ContactPage from './pages/ContactPage.js'\nimport SABProjectPage from './projects/SABProjectPage.js'\nimport SMProjectPage from './projects/SMProjectPage.js'\nimport ABProjectPage from './projects/ABProjectPage.js'\n\nclass App extends Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      currentPage: null,\n    }\n    this.selectors = {\n      logo: '.App-logo',\n      title: 'h1.app-title',\n      titleLetters: 'h1.app-title .letter',\n      subTitle: 'h2.app-subtitle',\n      subTitleLetters: 'h2.app-subtitle .letter',\n      links: [\n        '.leftSide > .nav-links > a:nth-child(1)',\n        '.leftSide > .nav-links > a:nth-child(2)',\n        '.leftSide > .nav-links > a:nth-child(3)',\n        '.leftSide > .nav-links > a:nth-child(4)',\n      ],\n      // pageContent: '.rightSide > div',\n    }\n    this.projectPages = [\n      {name: this.props.routes.projectsSAB, value: <SABProjectPage/>},\n      {name: this.props.routes.projectsAB, value: <ABProjectPage/>},\n      {name: this.props.routes.projectsSamAndMax, value: <SMProjectPage/>},\n    ]\n    // {\n    //   projectURL: this.props.routes.projectsSamAndMax,\n    //   imgURL: \"/samandmax.png\",\n    // }\n    this.paths = [\n      {name: this.props.routes.home, value: <ProjectsPage/>},\n      {name: this.props.routes.projects, value: <ProjectsPage/>},\n      ...this.projectPages,\n      {name: this.props.routes.about, value: <AboutPage/>},\n      {name: this.props.routes.services, value: <ServicesPage/>},\n      {name: this.props.routes.contact, value: <ContactPage/>},\n    ]\n  }\n\n  // getNextProject = (route) => {\n  //   const projectIndex = projectPages.find((item, index) => item.name === route ? index : false)\n  //   if (this.projectPages.length < projectIndex+1){\n  //     return this.projectPages[projectIndex+1]\n  //   }\n  //   return null\n  // }\n\n  AnimatePageContent = (pageContent, delay) => {\n    // anime({\n    //   targets: pageContent,\n    //   keyframes: [\n    //     {opacity: 1, duration: 500},\n    //   ],\n    //   delay: 1500,\n    //   easing: 'easeInOutQuad',\n    // });\n    anime.remove(pageContent)\n    document.querySelectorAll(pageContent).forEach(ele => ele.style.removeProperty('opacity'))\n    // setTimeout(() => {\n    anime({\n      targets: pageContent,\n      opacity: [\n        {value: 0, duration: delay},\n        {value: 1, easing: 'easeInOutQuad', duration: 750},\n      ],\n      // scale: [\n      //   {value: 1, easing: 'easeInQuad', duration: delay},\n      //   {value: 1.025, easing: 'easeInQuad', duration: 200},\n      //   {value: 1, easing: 'easeOutQuad', duration: 200},\n      // ],\n      delay: anime.stagger(200, {easing: 'easeInSine'}),\n    })\n  // }, 100)\n    // setTimeout(() => {\n    //   document.querySelectorAll(pageContent).forEach(e => e.style.transform = '')\n    // }, delay)\n  }\n\n  componentDidMount(){\n      this.setState({\n        currentPage: this.paths.find(path => path.name === window.location.hash)\n      })\n\n      const unlisten = this.props.history.listen((location, action) => {\n        // console.log(window.location.hash, this.paths, this.paths.find(path => path.name === window.location.hash))\n        this.setState({\n          currentPage: this.paths.find(path => path.name === window.location.hash)\n        }, () => {\n          const {pageContentSelector} = this.props\n          this.AnimatePageContent(pageContentSelector, 0)\n        })\n      });\n\n      const {\n        logo, title, titleLetters,\n        links, subTitle, subTitleLetters,\n      } = this.selectors\n\n      const { pageContentSelector } = this.props\n\n      // anime({\n      //   targets: logo,\n      //   width: '115%',\n      //   duration: 20000,\n      //   easing: 'easeInOutBack',\n      //   delay: 500,\n      //   loop: true,\n      //   direction: 'alternate',\n      // })\n\n      anime({\n        targets: titleLetters,\n        opacity: 1,\n        duration: 500,//anime.stagger(200),\n        easing: 'easeInSine',\n        scale: [\n          {value: 1.05, easing: 'easeInQuad', duration: 200},\n          {value: 1, easing: 'easeOutQuad', duration: 200},\n        ],\n        delay: anime.stagger(25, {start: 500}),\n      })\n\n      anime({\n        targets: subTitleLetters,\n        opacity: 1,\n        duration: 500,//anime.stagger(200),\n        easing: 'easeInSine',\n        scale: [\n          {value: 1.05, easing: 'easeInQuad', duration: 200},\n          {value: 1, easing: 'easeOutQuad', duration: 200},\n        ],\n        delay: anime.stagger(25, {start: 750}),\n      })\n\n      console.log(\"currentPage\", window.location.hash)\n\n      if (window.location.hash === ''){\n        anime({\n          targets: '.top-padding',\n          paddingTop: '0vh',\n          duration: 1500,//anime.stagger(200),\n          easing: 'easeInOutQuad',\n          delay: 500,\n        })\n      } else {\n        document.querySelector('.top-padding').remove()\n      }\n\n      anime({\n        targets: [\n          links[0],\n          links[1],\n          links[2],\n          links[3],\n        ],\n        opacity: 1,\n        duration: 500,//anime.stagger(200),\n        easing: 'easeInSine',\n        scale: [\n          {value: 1.01, easing: 'easeInQuad', duration: 200},\n          {value: 1, easing: 'easeOutQuad', duration: 200},\n        ],\n        // [\n        //   {value: 0, duration: 500},\n        //   {value: 1, easing: 'easeInSine', duration: 500},\n        // ],\n        delay: anime.stagger(200, {start: 1000}),\n      })\n\n      setTimeout(() => {\n        this.setActiveLink(true)\n      }, 1800)\n  }\n\n  setActiveLink = (isInitial) => {\n    const {links} = this.selectors\n    const previousActive = document.querySelector('.nav-links .active')\n    previousActive && previousActive.classList.remove('active')\n    if (previousActive || isInitial){\n      let link = links[0]\n      if (window.location.hash === '#about') link = links[1]\n      else if (window.location.hash === '#services') link = links[2]\n      else if (window.location.hash === '#contact') link = links[3]\n      document.querySelector(link).classList.add('active')\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(\"app.js componentWillReceiveProps\")\n    const { pageContentSelector } = nextProps\n    if (pageContentSelector) {\n\n      this.setActiveLink(false)\n      // const target = e.target\n      // setTimeout(() => target.classList.add('active'), 50)\n\n      console.log(\"firing AnimatePageContent\")\n      this.AnimatePageContent(pageContentSelector, 1000)\n    }\n  }\n\n  textWrapper = (text, className) => {\n    return <span dangerouslySetInnerHTML={{__html: text.replace(/\\S/g, \"<span class='\"+className+\"'>$&</span>\")}}/>\n  }\n\n  render() {\n    console.log(\"render\", this.state)\n    const {currentPage} = this.state\n\n    const isMobile = window.innerWidth <= 575\n    const isFluid = window.innerWidth <= 991\n    const appTitle = (isMobile) => <h1 className={`app-title ${isMobile ? 'd-block d-sm-none' : 'd-none d-sm-block'}`}>{this.textWrapper('Harry Johnson Web Development', 'defaultOpaque letter')}</h1>\n    const appSubtitle = (isMobile) => <h2 className={`app-subtitle ${isMobile ? 'd-block d-sm-none' : 'd-none d-sm-block'}`}>{this.textWrapper('Freelance full-stack developer', 'defaultOpaque letter')}</h2>\n    const navLinks = \n      <div className=\"nav-links\">\n        <Link className=\"defaultOpaque\" to={this.props.routes.projects}>Projects</Link>\n        <Link className=\"defaultOpaque\" to={this.props.routes.about}>About</Link>\n        <Link className=\"defaultOpaque\" to={this.props.routes.services}>Services</Link>\n        <Link className=\"defaultOpaque\" to={this.props.routes.contact}>Contact</Link>\n      </div>\n\n    return (\n      <div className={`${isFluid ? 'container-fluid' : 'container'} ${isMobile && 'mobile'}`}>\n              <Router history={this.props.history}>\n        <Row className=\"center-row pt-5\">\n          <div className=\"top-padding\"></div>\n          <Col sm={4} md={2} className=\"leftSide\">\n            {isMobile && navLinks}\n            <img src=\"/logofinal.png\" className=\"App-logo\" alt=\"logo\" />\n            {appTitle(true)}\n            {appSubtitle(true)}\n          </Col>\n          <Col sm={8} md={10} className=\"rightSide\">\n            {appTitle(false)}\n            {appSubtitle(false)}\n          </Col>\n          <Col sm={4} md={2} className=\"leftSide\">\n            {!isMobile && navLinks}\n          </Col>\n          <Col sm={8} md={10} className=\"rightSide\">\n            <div className=\"mt-3\">\n              {\n                (currentPage && currentPage.value) || <ProjectsPage/>\n              }\n            </div>\n          </Col>\n        </Row>\n              </Router>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  history: state.site.history,\n  routes: state.site.routes,\n  pageContentSelector: state.site.pageContentSelector,\n});\n\nexport default connect(mapStateToProps, { setPageOpacity })(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\n// import './css/xxs.css';\nimport './index.css';\n// import './css/fontawesome.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  rootElement\n);\n// ReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();"],"sourceRoot":""}